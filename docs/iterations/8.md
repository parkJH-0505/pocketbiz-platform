# Sprint 8: 스마트 매칭 엔진 (2주)

## 목표
스타트업과 프로그램 간 자동 매칭 시스템 구현

## 작업 목록

### 매칭 룰 엔진
- [ ] MatchRule 테이블 구현 🔴
  ```typescript
  interface MatchRule {
    id: string;
    programId: string;
    type: 'required' | 'preferred' | 'excluded';
    condition: {
      field: string; // 'sector', 'stage', 'score.GO', 'kpi.S1-GO-05'
      operator: 'eq' | 'gt' | 'gte' | 'lt' | 'lte' | 'in' | 'between';
      value: any;
    };
    weight: number; // 매칭 점수 가중치
    reason: string; // 매칭 이유 설명
  }
  ```

- [ ] 조건 JSON 스키마 정의 🔴
  ```json
  {
    "required": [
      {
        "field": "stage",
        "operator": "in",
        "value": ["A2", "A3", "A4"]
      },
      {
        "field": "score.GO",
        "operator": "gte",
        "value": 70
      }
    ],
    "preferred": [
      {
        "field": "kpi.S1-GO-05",
        "operator": "gte",
        "value": 10000,
        "weight": 1.5
      }
    ]
  }
  ```

- [ ] 룰 평가 엔진 구현 🔴
  - 조건 파싱 및 실행
  - AND/OR 로직 처리
  - 중첩 조건 지원

- [ ] 적합도 등급 계산 (A/B/C) 🔴
  - A: 모든 필수 조건 충족 + 선호 조건 70% 이상
  - B: 모든 필수 조건 충족
  - C: 일부 필수 조건 충족 (잠재 가능)

### 매칭 알고리즘
- [ ] 섹터/스테이지 기본 필터링 🔴
- [ ] 축별 점수 조건 체크 🔴
- [ ] 특정 KPI 조건 평가 🔴
- [ ] 성공 확률 예측 모델 🟡
  ```typescript
  interface MatchScore {
    programId: string;
    startupId: string;
    eligibility: 'eligible' | 'partial' | 'ineligible';
    score: number; // 0-100
    reasons: {
      met: string[];
      unmet: string[];
      recommendations: string[];
    };
    successProbability?: number; // ML 예측값
  }
  ```

### 매칭 결과 표시
- [ ] 추천 프로그램 카드 UI 🔴
  ```typescript
  interface ProgramMatchCard {
    program: Program;
    matchScore: MatchScore;
    daysUntilDeadline: number;
    similarStartupsApplied: number;
    successRate?: number;
  }
  ```

- [ ] 적합도 및 근거 표시 🔴
  - 충족/미충족 조건 리스트
  - 개선 필요 항목
  - 예상 성공률

- [ ] 마감일 임박 알림 🔴
  - 7일/3일/1일 전 알림
  - 이메일 발송 옵션

- [ ] 신청 링크 연결 🔴
  - 외부 링크 트래킹
  - 신청 상태 관리

### 매칭 최적화
- [ ] 매칭 결과 캐싱
- [ ] 배치 처리 시스템
- [ ] 매칭 이력 추적
- [ ] A/B 테스트 framework

## 완료 기준
- [ ] 매칭 정확도 > 85%
- [ ] 매칭 속도 < 500ms
- [ ] 사용자 만족도 > 4.5/5
- [ ] 프로그램 신청 전환율 > 20%