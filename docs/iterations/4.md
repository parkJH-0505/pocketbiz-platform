# Sprint 4: KPI 입력 시스템 구현 (2주)

## 목표
KPI 입력 화면 구현 및 실시간 검증 시스템 구축

## 작업 목록

### KPI 카드 컴포넌트 ✅
- [x] KpiCard 기본 컴포넌트 🔴
- [x] NumericInput 위젯 🔴
- [x] RubricInput 위젯 🔴
- [x] StageInput 위젯 🔴
- [ ] ChecklistToggle 위젯 🔴
- [x] MultiSelectInput 위젯 🔴
- [x] CalculationInput 위젯 🔴

### 입력 화면 구현

> ⚠️ **명확화**: 아래 축별 탭은 Sprint 17의 "진단하기" 탭 내부의 서브탭입니다
> - Sprint 17: KPI 진단 페이지의 메인 5개 탭
> - Sprint 4: "진단하기" 탭 내부의 축별 서브탭

- [ ] 축별 서브탭 네비게이션 (GO/EC/PT/PF/TO) 🔴
  ```typescript
  // KPI 진단 > 진단하기 탭 > 축별 서브탭
  const axisSubTabs = [
    { key: 'GO', label: 'Growth', color: 'purple' },
    { key: 'EC', label: 'Economics', color: 'green' },
    { key: 'PT', label: 'Product', color: 'orange' },
    { key: 'PF', label: 'Performance', color: 'blue' },
    { key: 'TO', label: 'Team & Org', color: 'red' }
  ];
  ```

- [ ] KPI 카드 리스트 렌더링 🔴
  - 현재 단계에 맞는 KPI만 표시
  - 카드 그룹핑 (관련 KPI 묶음)
  - 스크롤 위치 저장

- [ ] 실시간 입력 검증 🔴
  - 타입별 유효성 검사
  - 교차 검증 (MAU ≤ 총가입자)
  - 에러 메시지 표시

- [ ] 자동 저장 기능 🔴
  - Debounce 처리 (1초)
  - 저장 상태 표시
  - 오프라인 지원

- [ ] 진행률 표시 🔴
  - 축별 완료율
  - 전체 진행률
  - 필수 항목 체크

- [ ] 미답변 항목 하이라이트 🟡

### 증빙 시스템
- [ ] 파일 업로드 컴포넌트 🟡
  ```typescript
  interface Evidence {
    kpiId: string;
    fileUrl: string;
    fileName: string;
    uploadedAt: Date;
    memo?: string;
  }
  ```

- [ ] S3 연동 및 파일 저장 🟡
- [ ] 증빙 메모 기능 🟡
- [ ] 파일 미리보기 🟡

## 상태 관리
- [ ] KPI 응답 상태 관리 (Context/Redux)
- [ ] 자동 저장 큐 관리
- [ ] 오류 상태 처리
- [ ] 낙관적 업데이트

## 완료 기준
- [ ] 모든 KPI 입력 가능
- [ ] 실시간 검증 작동
- [ ] 자동 저장 성공률 > 99%
- [ ] 사용자 입력 시간 < 30분